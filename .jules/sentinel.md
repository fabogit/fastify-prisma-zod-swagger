## 2024-05-22 - Mitigation of Timing Attack in Authentication\n**Vulnerability:** The authentication logic in `user.service.ts` returns immediately if a user is not found, but performs a computationally expensive `bcrypt.hash` if the user exists. This timing difference allows an attacker to enumerate valid email addresses.\n**Learning:** Even when using secure libraries like `bcrypt`, the *flow* of the application can introduce side-channel vulnerabilities. Consistent execution time for both valid and invalid states is crucial for authentication.\n**Prevention:** Always ensure that the `failure` path performs a similar amount of work as the `success` path, specifically regarding cryptographic operations.
